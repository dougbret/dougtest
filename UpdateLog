Create a "Test User" in members group.
  -- Tut pic shows admin user, but can't do that.  Text says member.
Pull this branch so can work real time local machine.
Brett Douglas will be the "member", because members has been changed to "Guest Accounts" in this install and Brett Douglas
Brett Douglas is known able to navigate the ezpaypal to make a purchase.

A. Change the product class add an "object relation" field.
B. Create a folder in media section labeled download and put a pdf file in it.
C. Create a new product object, relate the object to the pdf file in media/downloads

Argghhh, Products folder no longer in content structure
  -- pkg products from a local ez44 and send it up
  -- no local ez44 with a webshop set up on it.

Just make a Product folder under Home and hope the templates take it from there. Products.tpl are still in there.  Hope this works.  It should.

D. Create a Pay-per-download Role

E. Create a workflow group and workflow called "Payment and Fulfillment"
  -- Add the Paypal event to this workflow (Paypal is working)

F. The set the trigger to run BEFORE the checkout function of the shop module.
***NOTE!!! Change made in GUI***
In the triggers list, 
  shop  - checkout  -  before WAS Paypal, changed to "Payment and Fulfillment"

The next step is to get into some coding and write a payperdownload extension.
Save that for fresh thought processes, Saturday.
For now get a little more sure with git by committing this overview back to online.

**************************************
**Extension - payperdownload
**************************************  
payperdownload

design
/design/payperdownload/templates/orderhistory/error.tpl
/design/payperdownload/templates/orderhistory/view.tpl
/design/payperdownload/templates/shop/orderemail.tpl
/design/payperdownload/templates/shop/orderview.tpl

doc
/doc/license.txt
/doc/readme.txt

eventtypes
/eventtypes/event/payperdownload/payperdownloadtype.php

modules
/modules/orderhistory/module.php
/modules/orderhistory/view.php

settings
/settings/design.ini.append.php
/settings/module.ini.append.php
/settings/payperdownload.ini
/settings/workflow.ini.append.php

Only code change was to set roleID to 19 to match dev-usophia system.

Next get currently proven to work paypal, into a workflow for use by payperdownload extension

Running the first test, on return from paypal, I did not get a link to download the item I just purchased.  Either change the existing template to give me a link, or make sure the template is loading from payperdownload extension.

Checking email to see if I got an email link to the download.  I may be getting overridden by something in the original paypal extension.

8/19/13 AM
Working to get nira repo ready to use, and dougtest repo ready to push.

8/19/13 10:39 AM
payperdownload extension installed

Templates in the extension are not loading.

Believe it is necessary to add the extension in /eng siteaccess.
Top listed extension in eng is usophia.
Changed site.ini.append in /eng to add payperdownload in the list of design extensions.



